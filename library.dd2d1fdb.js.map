{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-684c011a6bec4e65.js","src/arrowup.js","src/ganres.js","node_modules/@parcel/runtime-js/lib/runtime-25ac93965f8e0bad.js","src/library.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1zJhX\\\":\\\"library.dd2d1fdb.js\\\",\\\"2vuFq\\\":\\\"film_poster_not_found.045a66b9.jpg\\\"}\"));","const mybutton = document.getElementById('myBtn');\n\nmybutton.addEventListener('click', topFunction);\nwindow.addEventListener('scroll', scrollFunction);\n\nfunction scrollFunction() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    mybutton.style.display = 'block';\n  } else {\n    mybutton.style.display = 'none';\n  }\n}\n\nfunction topFunction() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n","\n  const genres = [\n    { id: 28, name: 'Action' },\n    { id: 12, name: 'Adventure' },\n    { id: 16, name: 'Animation' },\n    { id: 35, name: 'Comedy' },\n    { id: 80, name: 'Crime' },\n    { id: 99, name: 'Documentary' },\n    { id: 18, name: 'Drama' },\n    { id: 10751, name: 'Family' },\n    { id: 14, name: 'Fantasy' },\n    { id: 36, name: 'History' },\n    { id: 27, name: 'Horror' },\n    { id: 10402, name: 'Music' },\n    { id: 9648, name: 'Mystery' },\n    { id: 10749, name: 'Romance' },\n    { id: 878, name: 'Science Fiction' },\n    { id: 10770, name: 'TV Movie' },\n    { id: 53, name: 'Thriller' },\n    { id: 10752, name: 'War' },\n    { id: 37, name: 'Western' }\n  ];\n\n\nexport function findGenresOfMovie(ids) {\n  const arr = ids.flatMap(id => genres.filter(element => element.id === id));\n  const movieGenres = arr.map(el => el.name);\n  if (movieGenres.length > 2) {\n    const removedGenres = movieGenres.splice(0, 2);\n    removedGenres.push('Other');\n\n    return removedGenres.join(', ');\n  }\n  return movieGenres.join(', ');\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2vuFq\")).toString();","import './arrowup.js';\n\nimport './arrowup.js';\nimport { findGenresOfMovie } from './ganres';\n\nconst movieList = document.querySelector('.movieList');\nconst overlay = document.querySelector('.overlay');\nconst closeOverlay = document.querySelector('.modal-close');\nconst overlayBg = document.querySelector('.overlay-bg');\nconst imgCard = document.querySelector('.cinema-card img');\nconst cardTitle = document.querySelector('.card-title');\nconst cardVote = document.querySelector('#modal-vote');\nconst cardVotes = document.querySelector('#modal-votes');\nconst cardPopularity = document.querySelector('#modal-popularity');\nconst cardOriginal = document.querySelector('#modal-original');\nconst cardGenre = document.querySelector('#modal-genre');\nconst cardContent = document.querySelector('#modal-content');\nconst cardBlock = document.querySelector('.card-block');\n\nimport img from './images/film_poster_not_found.jpg';\n\nconst watchedList = document.querySelector('.watched-list');\nconst watchedEl = document.querySelector('.card-btn-bg');\nconst deleteEl = document.querySelector('.card-btn-delete');\n\nconst data = localStorage.getItem('watched');\nconst dataParsed = JSON.parse(data);\n\nconsole.log('dataParsed', dataParsed);\n\nmarkupMovies(dataParsed);\n\nfunction markupMovies(dataParsed) {\n  const markup = dataParsed\n    .map(data => {\n      const { poster_path, title, genre_ids, release_date, id } = data;\n      const movieData = JSON.stringify(data);\n      const date = new Date(release_date).getFullYear();\n      if (poster_path) {\n        return `\n            <li class=\"movieCard\" id=\"${id}\" data-movie='${movieData}'>\n            <img class=\"movieCard__img\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\" loading=\"lazy\" />\n            <div class=\"card_wrap\">\n            <p class=\"movieCard__title\">${title.toUpperCase()} <br />\n            <span class=\"movieCard__info\">${findGenresOfMovie(\n              genre_ids\n            )} | ${date}</span>\n            </p>\n            </div>\n            </li>`;\n      }\n      return `\n        <div class =\"movieCard\" id=\"${id}\">\n        <img class =\"movieCard__img\" src=\"${img} alt=\"${title.toUpperCase()}\" />\n        <p class =\"movieCard__title\">${title} <br/>\n            <span class=\"movieCard__info\">${findGenresOfMovie(\n              genre_ids\n            )} | ${date}</span>\n        </p>\n        </div>`;\n    })\n    .join('');\n  watchedList.insertAdjacentHTML('beforeend', markup);\n}\n\nwatchedList.addEventListener('click', openModal);\n\nfunction openModal(e) {\n  const movie = e.target.closest('.movieCard');\n  if (movie) {\n    overlay.classList.remove('is-hidden');\n    window.addEventListener('keydown', function mdClose(e) {\n      if (e.keyCode !== 27) return;\n      modalClose();\n      this.removeEventListener('keydown', mdClose);\n    });\n\n    const movieData = JSON.parse(movie.dataset.movie);\n    cardContent.innerHTML = movieData.overview;\n    imgCard.src = 'https://image.tmdb.org/t/p/w500' + movieData.poster_path;\n    cardTitle.innerHTML = movieData.title;\n    cardVote.innerHTML = movieData.vote_average;\n    cardVotes.innerHTML = movieData.vote_count;\n    cardPopularity.innerHTML = movieData.popularity;\n    cardOriginal.innerHTML = movieData.original_title;\n    cardGenre.innerHTML = findGenresOfMovie(movieData.genre_ids);\n    cardBlock.dataset.movie = movie.dataset.movie;\n  }\n  watchedEl.style.display = 'none';\n  deleteEl.style.display = 'block';\n}\n\ncloseOverlay.addEventListener('click', modalClose);\noverlayBg.addEventListener('click', modalClose);\n\nfunction modalClose() {\n  overlay.classList.add('is-hidden');\n}\n\nwatchedEl.addEventListener('click', clickOnWatchedBtn);\n\nfunction clickOnWatchedBtn(e) {\n  const movie = e.target.closest('.card-block');\n  const movieData = movie.dataset.movie;\n  const data = localStorage.getItem('watched');\n  const dataParsed = JSON.parse(data);\n  watchedEl.style.display = 'none';\n  deleteEl.style.display = 'block';\n\n  let array;\n  if (data) {\n    const find = dataParsed.find(el => el.id == JSON.parse(movieData).id);\n    if (find) {\n      return;\n    }\n    if (Array.isArray(dataParsed)) {\n      array = dataParsed;\n    } else {\n      array = [dataParsed];\n    }\n    array.push(JSON.parse(movieData));\n    localStorage.setItem('watched', JSON.stringify(array));\n  } else {\n    const parsedMovie = JSON.parse(movieData);\n    array = [parsedMovie];\n    console.log(array);\n    localStorage.setItem('watched', JSON.stringify(array));\n  }\n\n  const newdData = localStorage.getItem('watched');\n  const newDataParsed = JSON.parse(newdData);\n\n  watchedList.innerHTML = '';\n  markupMovies(newDataParsed);\n}\n\ndeleteEl.addEventListener('click', clickOnDeleteWatchedBtn);\n\nfunction clickOnDeleteWatchedBtn(e) {\n  const movie = e.target.closest('.card-block');\n  const movieData = movie.dataset.movie;\n  const data = localStorage.getItem('watched');\n  const dataParsed = JSON.parse(data);\n  watchedEl.style.display = 'block';\n  deleteEl.style.display = 'none';\n\n  const filtered = dataParsed.filter(el => el.id != JSON.parse(movieData).id);\n  localStorage.setItem('watched', JSON.stringify(filtered));\n\n  const newdData = localStorage.getItem('watched');\n  const newDataParsed = JSON.parse(newdData);\n\n  watchedList.innerHTML = '';\n  markupMovies(newDataParsed);\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$6fbffc10a1c04a09$var$mybutton","document","getElementById","addEventListener","window","scrollTo","top","behavior","body","scrollTop","documentElement","style","display","$72e4e78b7ec85dfd$var$genres","name","$72e4e78b7ec85dfd$export$bd30349ce2262ac","ids","movieGenres","flatMap","filter","element","map","el","removedGenres","splice","push","join","$f0b640dcb4603b7a$exports","URL","resolve","import","meta","url","toString","querySelector","$ce3726a01b8ab25a$var$overlay","$ce3726a01b8ab25a$var$closeOverlay","$ce3726a01b8ab25a$var$overlayBg","$ce3726a01b8ab25a$var$imgCard","$ce3726a01b8ab25a$var$cardTitle","$ce3726a01b8ab25a$var$cardVote","$ce3726a01b8ab25a$var$cardVotes","$ce3726a01b8ab25a$var$cardPopularity","$ce3726a01b8ab25a$var$cardOriginal","$ce3726a01b8ab25a$var$cardGenre","$ce3726a01b8ab25a$var$cardContent","$ce3726a01b8ab25a$var$cardBlock","$ce3726a01b8ab25a$var$watchedList","$ce3726a01b8ab25a$var$watchedEl","$ce3726a01b8ab25a$var$deleteEl","$ce3726a01b8ab25a$var$data","localStorage","getItem","$ce3726a01b8ab25a$var$dataParsed","$ce3726a01b8ab25a$var$markupMovies","dataParsed1","markup","data1","poster_path","title","genre_ids","release_date","movieData","stringify","date","Date","getFullYear","toUpperCase","$parcel$interopDefault","insertAdjacentHTML","$ce3726a01b8ab25a$var$modalClose","classList","add","console","log","e1","movie","target","closest","remove","mdClose","e","keyCode","this","removeEventListener","dataset","innerHTML","overview","src","vote_average","vote_count","popularity","original_title","data2","dataParsed2","array","find","Array","isArray","setItem","parsedMovie","newdData","newDataParsed","data3","dataParsed3","filtered"],"version":3,"file":"library.dd2d1fdb.js.map"}